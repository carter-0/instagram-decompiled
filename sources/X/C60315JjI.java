package X;

import androidx.credentials.playservices.controllers.CreatePublicKeyCredential.PublicKeyCredentialControllerUtility;
import com.instagram.aistudio.editor.AiSettingsRepository;
import com.instagram.android.R;
import com.instagram.common.session.UserSession;
import com.instagram.common.typedurl.ImageUrl;
import com.instagram.debug.devoptions.sandboxselector.DevServerEntity;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import kotlin.jvm.internal.DefaultConstructorMarker;

/* renamed from: X.JjI  reason: case insensitive filesystem */
public final class C60315JjI extends 2YL {
    public final AiSettingsRepository A00;
    public final UserSession A01;
    public final 05G A02;
    public final 05G A03;
    public final 05G A04;
    public final 05G A05;
    public final 05G A06;
    public final 05G A07;
    public final AnonymousClass0Ud A08;
    public final AnonymousClass0Ud A09;
    public final AnonymousClass0Ud A0A;
    public final AnonymousClass0Ud A0B;
    public final AnonymousClass0Ud A0C;
    public final AnonymousClass0Ud A0D;
    public final AnonymousClass0Ud A0E;
    public final AnonymousClass0Ud A0F;
    public final AnonymousClass0Ud A0G;
    public final AnonymousClass0Ud A0H;
    public final AnonymousClass0Ud A0I;
    public final AnonymousClass0Ud A0J;
    public final AnonymousClass0Ud A0K;
    public final AnonymousClass0Ud A0L;
    public final KWP A0M;
    public final 05G A0N;
    public final AnonymousClass0Ud A0O;
    public final AnonymousClass0Ud A0P;
    public final AnonymousClass0Ud A0Q;

    /* JADX WARNING: type inference failed for: r0v27, types: [X.109, java.lang.Object] */
    /* JADX WARNING: type inference failed for: r0v30, types: [X.109, java.lang.Object] */
    /* JADX WARNING: type inference failed for: r0v37, types: [X.109, java.lang.Object] */
    /* JADX WARNING: type inference failed for: r6v7, types: [X.109, java.lang.Object] */
    /* JADX WARNING: type inference failed for: r1v11, types: [X.109, java.lang.Object] */
    /* JADX WARNING: type inference failed for: r0v44, types: [X.109, java.lang.Object] */
    /* JADX WARNING: type inference failed for: r1v14, types: [X.109, java.lang.Object] */
    public C60315JjI(UserSession userSession) {
        UserSession userSession2 = userSession;
        0qQ.A0B(userSession2, 1);
        this.A01 = userSession2;
        AiSettingsRepository aiSettingsRepository = new AiSettingsRepository(userSession2, 1vm.A01(userSession2));
        this.A00 = aiSettingsRepository;
        this.A0B = aiSettingsRepository.A0Y;
        this.A0K = aiSettingsRepository.A0o;
        this.A0L = aiSettingsRepository.A0r;
        this.A0M = (KWP) userSession2.A01(KWP.class, MMK.A00(userSession2, 3));
        this.A0H = aiSettingsRepository.A0g;
        02z A012 = 106.A01((Object) null);
        this.A07 = A012;
        this.A0I = 10b.A03(A012);
        this.A0Q = aiSettingsRepository.A0u;
        02z A013 = 106.A01((Object) null);
        this.A02 = A013;
        this.A08 = 10b.A03(A013);
        C318136oS A002 = C318116oQ.A00(this);
        MHA mha = new MHA(this, (AnonymousClass4D7) null, 10);
        19B r6 = 19B.A00;
        1Eo.A05(r6, new MHA(this, (AnonymousClass4D7) null, 9), MHA.A00(this, r6, MHA.A00(this, r6, MHA.A00(this, r6, MHA.A00(this, r6, MHA.A00(this, r6, MHA.A00(this, r6, MHA.A00(this, r6, MHA.A00(this, r6, MHA.A00(this, r6, C51967G9n.A0M(this, r6, mha, A002), 11), 12), 13), 14), 15), 16), 17), 18), 8));
        02z A014 = 106.A01((Object) null);
        this.A0N = A014;
        this.A0P = 10b.A03(A014);
        02z A015 = 106.A01((Object) null);
        this.A06 = A015;
        AnonymousClass0Ud r12 = aiSettingsRepository.A0p;
        this.A0F = 10b.A02((Object) null, C318116oQ.A00(this), AnonymousClass10H.A00(new MHq(this, (AnonymousClass4D7) null, 1), A015, r12, aiSettingsRepository.A0i), new Object());
        02z A016 = 106.A01((Object) null);
        this.A05 = A016;
        this.A0E = 10b.A02((Object) null, C318116oQ.A00(this), AnonymousClass10H.A00(new MHq(this, (AnonymousClass4D7) null, 0), A016, r12, aiSettingsRepository.A0h), new Object());
        02z A017 = 106.A01((Object) null);
        this.A04 = A017;
        this.A0D = 10b.A03(A017);
        02z A018 = 106.A01((Object) null);
        this.A03 = A018;
        this.A0C = 10b.A03(A018);
        AnonymousClass0Ud r2 = aiSettingsRepository.A0X;
        0pp A022 = AnonymousClass10H.A02(new MI6(this, (AnonymousClass4D7) null, 0), r2, r12, aiSettingsRepository.A0q, aiSettingsRepository.A0f, aiSettingsRepository.A0Z);
        C318136oS A003 = C318116oQ.A00(this);
        ? obj = new Object();
        List list = 0sn.A00;
        this.A0J = 10b.A02(new C61014JvE(new C61081JwJ((Integer) null, (String) null, (DefaultConstructorMarker) null, 3, 6), (C61073JwB) null, (ImageUrl) null, (Integer) null, "", "", "", "", "", "", "", list, list, list, 0, false, false, false, false, false, false, false, false, false, false, false, false, false, false), A003, A022, obj);
        MCA A004 = MCA.A00(this, r2, 7);
        this.A0O = 10b.A02(new JV5(1), C318116oQ.A00(this), A004, new Object());
        MCA A005 = MCA.A00(this, r2, 8);
        this.A0A = 10b.A02(new JV5((List) null, (List) null, (DefaultConstructorMarker) null, 7, 2, false), C318116oQ.A00(this), A005, new Object());
        0pt A006 = AnonymousClass10H.A00(new MHu(1, (AnonymousClass4D7) null), r2, aiSettingsRepository.A0k, aiSettingsRepository.A0t);
        this.A0G = 10b.A02(new C61005Jv2(C64476Lcd.A00, "", (String) null, R.drawable.instagram_arrow_cw_pano_outline_24, true), C318116oQ.A00(this), A006, new Object());
        MCA A007 = MCA.A00(this, r2, 9);
        this.A09 = 10b.A02(new C61079JwH(), C318116oQ.A00(this), A007, new Object());
    }

    /* JADX WARNING: Code restructure failed: missing block: B:3:0x0023, code lost:
        if (r4 <= X.DbS.A04(X.AnonymousClass7TF.A0H(r3), r3, 36605550997935359L)) goto L_0x0025;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public final void A08(int r17, java.lang.String r18) {
        /*
            r16 = this;
            r11 = 1
            r1 = r16
            X.05G r5 = r1.A06
            r7 = r18
            boolean r0 = X.00l.A0W(r7)
            r10 = 1
            r0 = r0 ^ 1
            if (r0 == 0) goto L_0x0035
            int r4 = r7.length()
            com.instagram.common.session.UserSession r3 = r1.A01
            X.0Tu r2 = X.AnonymousClass7TF.A0H(r3)
            r0 = 36605550997935359(0x820c8e000a14ff, double:3.2128360775925893E-306)
            int r0 = X.DbS.A04(r2, r3, r0)
            if (r4 > r0) goto L_0x0035
        L_0x0025:
            r12 = 0
            X.JuL r6 = new X.JuL
            r9 = r17
            r8 = r7
            r13 = r12
            r14 = r12
            r15 = r11
            r6.<init>(r7, r8, r9, r10, r11, r12, r13, r14, r15)
            r5.Epw(r6)
            return
        L_0x0035:
            r10 = 0
            goto L_0x0025
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C60315JjI.A08(int, java.lang.String):void");
    }

    public final void A0A(N49 n49, int i, boolean z, boolean z2) {
        N49 n492 = n49;
        this.A05.Epw(new C60967JuP(n49, n492, i, A03(n49, this), JTQ.A1O(i, -1), z, false, z2, true, false));
    }

    public final void A0D(String str) {
        C61049Jvn jvn;
        boolean z;
        String str2;
        05G r3 = this.A02;
        C61049Jvn jvn2 = (C61049Jvn) r3.getValue();
        if (jvn2 != null) {
            C61061Jvz A002 = AiSettingsRepository.A00(this.A00);
            UserSession userSession = this.A01;
            int A042 = DbS.A04(AnonymousClass7TF.A0H(userSession), userSession, 36605550997869822L);
            String str3 = str;
            if (00l.A0W(str3) || str3.length() > A042) {
                z = false;
            } else {
                if (A002 != null) {
                    str2 = A002.A0B;
                } else {
                    str2 = null;
                }
                z = !str3.equals(str2);
            }
            jvn = C61049Jvn.A00(jvn2, str3, (List) null, (List) null, (List) null, (List) null, 990, z, false, false, false, false);
        } else {
            jvn = null;
        }
        r3.Epw(jvn);
    }

    public final void A0F(0sP r32) {
        0sn A0r;
        String str;
        List list;
        0sn A0a;
        String str2;
        String str3;
        String str4;
        String str5;
        String str6;
        String str7;
        C61014JvE jvE = (C61014JvE) this.A0J.getValue();
        AiSettingsRepository aiSettingsRepository = this.A00;
        String str8 = jvE.A07;
        String str9 = jvE.A09;
        String str10 = jvE.A0A;
        String str11 = jvE.A08;
        boolean z = jvE.A0M;
        List list2 = jvE.A0C;
        List list3 = list2;
        0qQ.A0B(str8, 0);
        DbZ.A0t(1, str9, str10, str11);
        0qQ.A0B(list2, 5);
        Object value = aiSettingsRepository.A0X.getValue();
        if (value != null) {
            C61061Jvz jvz = (C61061Jvz) value;
            C61061Jvz A002 = C61061Jvz.A00((C61073JwB) null, jvz, (ImageUrl) null, (String) null, str8, (String) null, (String) null, (String) null, str9, str10, (String) null, (List) null, (List) null, (List) null, (List) null, (List) null, list3, 6290683, false, false);
            AnonymousClass0Ud r13 = aiSettingsRepository.A0Y;
            if (JTR.A0z(str11, r13) == C62626Kix.PUBLIC || JTR.A0z(str11, r13) == C62626Kix.PUBLIC_FOR_IG_PRIVATE_ACCOUNTS) {
                0sn r0 = jvz.A0E;
                if (r0 == null) {
                    r0 = 0sn.A00;
                }
                ArrayList<C61055Jvt> A1C = AnonymousClass7TE.A1C();
                for (Object next : r0) {
                    if (((C61055Jvt) next).A03) {
                        A1C.add(next);
                    }
                }
                A0r = AnonymousClass7TG.A0r(A1C);
                for (C61055Jvt jvt : A1C) {
                    DbU.A1X(jvt.A00, A0r);
                }
            } else {
                A0r = 0sn.A00;
            }
            QNI qni = new QNI();
            qni.A07(jvz.A04, "persona_id");
            qni.A07(jvz.A07, "persona_version_id");
            C62626Kix kix = (C62626Kix) JTR.A0z(str11, r13);
            if (kix != null) {
                str = kix.name();
            } else {
                str = null;
            }
            qni.A07(str, "audience");
            0Df.A00(qni.A02(), Boolean.valueOf(z), "show_in_ig_profile_banner");
            qni.A05("discoverable_apps", A0r);
            C61061Jvz A0M2 = JTP.A0M(aiSettingsRepository.A0G);
            ArrayList arrayList = null;
            if (A0M2 != null) {
                list = A0M2.A0D;
            } else {
                list = null;
            }
            0sn<GSY> r1 = A002.A0D;
            if (0qQ.A0K(r1, list)) {
                A0a = 0sn.A00;
            } else {
                ArrayList A1C2 = AnonymousClass7TE.A1C();
                if (r1 == null) {
                    r1 = 0sn.A00;
                }
                for (GSY gsy : r1) {
                    2IV r10 = new 2IV();
                    r10.A09(String.valueOf(gsy.A01), "plugin_type");
                    r10.A05("plugin_overrides", (List) null);
                    r10.A05("enabled_apps", AnonymousClass7TE.A1I("INSTAGRAM"));
                    r10.A08("is_enabled", (Boolean) gsy.A00);
                    A1C2.add(r10);
                }
                A0a = 00k.A0a(A1C2);
            }
            2IV r102 = new 2IV();
            r102.A09(A002.A06, PublicKeyCredentialControllerUtility.JSON_KEY_NAME);
            r102.A09(A002.A03, DevServerEntity.COLUMN_DESCRIPTION);
            r102.A09(A002.A05, "image_prompt");
            r102.A09(A002.A09, "tagline");
            r102.A09(A002.A0B, "welcome_message");
            List list4 = A002.A0G;
            r102.A09(AnonymousClass7TE.A19(list4, 0), "icebreaker_prompt_1");
            r102.A09(AnonymousClass7TE.A19(list4, 1), "icebreaker_prompt_2");
            r102.A09(AnonymousClass7TE.A19(list4, 2), "icebreaker_prompt_3");
            List list5 = A002.A0H;
            N49 n49 = (N49) 00k.A0O(list5, 0);
            if (n49 != null) {
                str2 = n49.A00;
            } else {
                str2 = null;
            }
            r102.A09(str2, AnonymousClass000.A00(1322));
            N49 n492 = (N49) 00k.A0O(list5, 0);
            if (n492 != null) {
                str3 = n492.A01;
            } else {
                str3 = null;
            }
            r102.A09(str3, AnonymousClass000.A00(1319));
            N49 n493 = (N49) 00k.A0O(list5, 1);
            if (n493 != null) {
                str4 = n493.A00;
            } else {
                str4 = null;
            }
            r102.A09(str4, AnonymousClass000.A00(1323));
            N49 n494 = (N49) 00k.A0O(list5, 1);
            if (n494 != null) {
                str5 = n494.A01;
            } else {
                str5 = null;
            }
            r102.A09(str5, AnonymousClass000.A00(1320));
            N49 n495 = (N49) 00k.A0O(list5, 2);
            if (n495 != null) {
                str6 = n495.A00;
            } else {
                str6 = null;
            }
            r102.A09(str6, AnonymousClass000.A00(1324));
            N49 n496 = (N49) 00k.A0O(list5, 2);
            if (n496 != null) {
                str7 = n496.A01;
            } else {
                str7 = null;
            }
            r102.A09(str7, AnonymousClass000.A00(1321));
            r102.A08("update_facts", true);
            r102.A05("capabilities", A0a);
            r102.A08("update_capabilities", Boolean.valueOf(AnonymousClass7TE.A1b(A0a)));
            List list6 = A002.A0F;
            if (list6 != null) {
                arrayList = AnonymousClass7TG.A0r(list6);
                Iterator it = list6.iterator();
                while (it.hasNext()) {
                    JTU.A1N(arrayList, it);
                }
            }
            r102.A05("example_dialogue", arrayList);
            r102.A05("facts", A002.A0I);
            String str12 = A002.A0A;
            if (str12 != null) {
                r102.A09(str12, "new_persona_version_image_id");
            }
            String A11 = JTO.A11(aiSettingsRepository.A0u);
            if (A11 != null) {
                r102.A09(A11, "thread_theme_id");
            }
            qni.A06(r102, "attributes");
            qni.A07(AnonymousClass7TF.A0c(), "client_mutation_id");
            aiSettingsRepository.A0R.Epw(true);
            AnonymousClass7TE.A1Z(new MHM((Object) qni, (Object) aiSettingsRepository, (Object) jvz, (Object) list3, (Object) r32, str11, (AnonymousClass4D7) null, 0), aiSettingsRepository.A01);
            KWP kwp = this.A0M;
            ((C250653lq) kwp.A01).A00.remove(new C324506zQ(kwp.A00.A06));
            return;
        }
        throw AnonymousClass7TE.A0y();
    }

    public static final boolean A03(N49 n49, C60315JjI jjI) {
        String str = n49.A00;
        if (!(!00l.A0W(str))) {
            return false;
        }
        int length = str.length();
        UserSession userSession = jjI.A01;
        if (length > DbS.A04(AnonymousClass7TF.A0H(userSession), userSession, 36605550998066433L)) {
            return false;
        }
        String str2 = n49.A01;
        if (!C51966G9m.A1X(str2) || str2.length() > DbS.A04(AnonymousClass7TF.A0H(userSession), userSession, 36605550998000896L)) {
            return false;
        }
        return true;
    }

    public final void A04() {
        this.A05.Epw(new C60967JuP(new N49("", "", 4), new N49("", "", 4), -1, false, false, false, false, false, true, false));
    }

    public final void A05() {
        AiSettingsRepository aiSettingsRepository = this.A00;
        JTR.A1V(aiSettingsRepository.A0L);
        List list = aiSettingsRepository.A04;
        Iterator it = list.iterator();
        while (it.hasNext()) {
            JTU.A1O(it);
        }
        list.clear();
        JTO.A0U(aiSettingsRepository.A07).A02(AnonymousClass05K.A0C);
    }

    public final void A06() {
        AiSettingsRepository aiSettingsRepository = this.A00;
        05G r0 = aiSettingsRepository.A0Q;
        Boolean A0u = AnonymousClass7TE.A0u();
        r0.Epw(A0u);
        aiSettingsRepository.A0T.Epw(A0u);
        List list = aiSettingsRepository.A05;
        Iterator it = list.iterator();
        while (it.hasNext()) {
            JTU.A1O(it);
        }
        list.clear();
        JTO.A0U(aiSettingsRepository.A07).A02(AnonymousClass05K.A0C);
    }

    public final void A07() {
        AiSettingsRepository aiSettingsRepository = this.A00;
        05G r0 = aiSettingsRepository.A0U;
        Boolean A0u = AnonymousClass7TE.A0u();
        r0.Epw(A0u);
        aiSettingsRepository.A0N.Epw(A0u);
        aiSettingsRepository.A0O.Epw(A0u);
        aiSettingsRepository.A0P.Epw(A0u);
        List list = aiSettingsRepository.A06;
        Iterator it = list.iterator();
        while (it.hasNext()) {
            JTU.A1O(it);
        }
        list.clear();
        JTO.A0U(aiSettingsRepository.A07).A02(AnonymousClass05K.A0C);
    }

    public final void A09(int i, String str) {
        List list;
        C61049Jvn jvn;
        Object obj;
        boolean A1a;
        List list2;
        05G r4 = this.A02;
        C61049Jvn jvn2 = (C61049Jvn) r4.getValue();
        if (jvn2 != null && (list = jvn2.A03) != null) {
            ArrayList A1D = AnonymousClass7TE.A1D(list);
            int i2 = i;
            String str2 = str;
            A1D.set(i2, str2);
            C61049Jvn jvn3 = (C61049Jvn) r4.getValue();
            if (jvn3 != null) {
                C61061Jvz A002 = AiSettingsRepository.A00(this.A00);
                UserSession userSession = this.A01;
                if (str2.length() > DbS.A04(AnonymousClass7TF.A0H(userSession), userSession, 36605550998131970L)) {
                    A1a = false;
                } else {
                    if (A002 == null || (list2 = A002.A0G) == null) {
                        obj = null;
                    } else {
                        obj = list2.get(i2);
                    }
                    A1a = C51966G9m.A1a(obj, str2);
                }
                jvn = C61049Jvn.A00(jvn3, (String) null, A1D, (List) null, (List) null, (List) null, 989, A1a, false, false, false, false);
            } else {
                jvn = null;
            }
            r4.Epw(jvn);
        }
    }

    public final void A0B(Integer num, String str, String str2, String str3) {
        List list;
        AiSettingsRepository aiSettingsRepository = this.A00;
        JTO.A0U(aiSettingsRepository.A07).A06.markerStart(673065652);
        1Er A1L = C51966G9m.A1L(new C66178MGp(aiSettingsRepository, num, str, str2, str3, (AnonymousClass4D7) null, 1), aiSettingsRepository.A01);
        if (str.equals("welcome_message") || str.equals("icebreaker_prompt_1") || str.equals("icebreaker_prompt_2") || str.equals("icebreaker_prompt_3")) {
            list = aiSettingsRepository.A06;
        } else if (str.equals("example_dialogue")) {
            list = aiSettingsRepository.A04;
        } else {
            list = aiSettingsRepository.A05;
        }
        list.add(A1L);
    }

    public final void A0C(String str) {
        C61061Jvz jvz;
        05G r0 = this.A00.A08;
        C61061Jvz jvz2 = (C61061Jvz) r0.getValue();
        String str2 = str;
        if (jvz2 != null) {
            jvz = C61061Jvz.A00((C61073JwB) null, jvz2, (ImageUrl) null, str2, (String) null, (String) null, (String) null, (String) null, (String) null, (String) null, (String) null, (List) null, (List) null, (List) null, (List) null, (List) null, (List) null, 8388606, false, false);
        } else {
            List list = 0sn.A00;
            jvz = new C61061Jvz((C61073JwB) null, (ImageUrl) null, C62629Kj0.UNSET_OR_UNRECOGNIZED_ENUM_VALUE, str2, "", "", "", "", (String) null, "", "", "", (String) null, list, list, list, (List) null, (List) null, list, (List) null, false, false, false);
        }
        r0.Epw(jvz);
    }

    public final void A0E(String str) {
        Object value = this.A0E.getValue();
        if (value != null) {
            C60967JuP juP = (C60967JuP) value;
            String str2 = juP.A01.A00;
            0qQ.A0B(str2, 0);
            N49 n49 = new N49(str2, str, 4);
            05G r1 = this.A05;
            boolean A032 = A03(n49, this);
            int i = juP.A00;
            N49 n492 = juP.A02;
            boolean z = juP.A08;
            boolean z2 = juP.A05;
            boolean z3 = juP.A07;
            boolean z4 = juP.A06;
            boolean z5 = juP.A03;
            boolean z6 = juP.A09;
            0qQ.A0B(n492, 1);
            r1.Epw(new C60967JuP(n492, n49, i, A032, z, z2, z3, z4, z5, z6));
            return;
        }
        throw AnonymousClass7TE.A0y();
    }

    public final void A0G(boolean z, boolean z2) {
        this.A06.Epw(new C60963JuL("", "", -1, false, false, z, false, z2, true));
    }

    public final boolean A0H() {
        C60967JuP juP = (C60967JuP) this.A0E.getValue();
        if (juP == null) {
            return false;
        }
        N49 n49 = juP.A01;
        String A12 = DbV.A12(n49.A00);
        String A122 = DbV.A12(n49.A01);
        N49 n492 = juP.A02;
        if (!0qQ.A0K(A12, n492.A00) || !0qQ.A0K(A122, n492.A01)) {
            return true;
        }
        return false;
    }

    public final boolean A0I() {
        Object obj;
        List list;
        AiSettingsRepository aiSettingsRepository = this.A00;
        C61077JwF jwF = (C61077JwF) this.A04.getValue();
        if (jwF == null || (obj = jwF.A00) == null) {
            obj = 0sn.A00;
        }
        C61061Jvz A0M2 = JTP.A0M(aiSettingsRepository.A08);
        if (A0M2 != null) {
            list = A0M2.A0G;
        } else {
            list = null;
        }
        return C51966G9m.A1a(list, obj);
    }

    public final boolean A0J() {
        String str;
        String str2;
        AiSettingsRepository aiSettingsRepository = this.A00;
        C61077JwF jwF = (C61077JwF) this.A04.getValue();
        if (jwF == null || (str = jwF.A01) == null) {
            str = "";
        }
        C61061Jvz A0M2 = JTP.A0M(aiSettingsRepository.A08);
        if (A0M2 != null) {
            str2 = A0M2.A0B;
        } else {
            str2 = null;
        }
        return C51966G9m.A1a(str2, str);
    }

    public static C60963JuL A00(AnonymousClass0eM r0) {
        return (C60963JuL) ((C60315JjI) r0.getValue()).A0F.getValue();
    }

    public static String A01(K64 k64) {
        return (String) K64.A00(k64).A0I.getValue();
    }

    public static String A02(AnonymousClass0eM r0) {
        return (String) ((C60315JjI) r0.getValue()).A0I.getValue();
    }
}
